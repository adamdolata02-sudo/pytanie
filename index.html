<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz Walentynkowy üíò</title>

  <style>
    :root{
      --bg:#0b0b12;
      --text:#f5f5ff;
      --muted:#b9b9d6;
      --cardA: rgba(255,255,255,.06);
      --cardB: rgba(255,255,255,.03);
      --border: rgba(255,255,255,.10);
      --accent:#ff4da6;
      --green:#22c55e;
      --green2:#16a34a;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:radial-gradient(1200px 700px at 20% 0%, #1a0f2a 0%, var(--bg) 45%, #07070d 100%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      overflow:hidden;
    }
    .wrap{width:min(820px,100%);}
    .card{
      background:linear-gradient(180deg, var(--cardA), var(--cardB));
      border:1px solid var(--border);
      border-radius:18px;
      padding:22px;
      box-shadow:0 18px 60px rgba(0,0,0,.45);
      position:relative;
      z-index:2;
    }

    /* Big centered title with hearts on both sides */
    #header{
      margin-bottom:14px;
    }
    .heroTitle{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
      margin:4px 0 10px;
      text-align:center;
      font-weight:950;
      letter-spacing:.2px;
      font-size:38px;
      line-height:1.05;
    }
    .heroTitle .heart{
      font-size:30px;
      filter: drop-shadow(0 10px 22px rgba(0,0,0,.35));
    }

    .panel{
      margin-top:12px;
      padding:16px;
      border-radius:14px;
      background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.08);
    }

    /* Start */
    .start{text-align:center;padding:18px 10px}
    .start h2{margin:0 0 10px;font-size:22px}
    .big{
      font-size:16px;
      color:var(--text);
      max-width:64ch;
      margin:12px auto;
      line-height:1.35;
    }
    .btn{
      border:none;border-radius:18px;padding:16px 26px;cursor:pointer;
      font-weight:900;font-size:18px;user-select:none;
      transition:.12s transform,.12s filter;
    }
    .btn:hover{transform:translateY(-1px);filter:brightness(1.02)}
    .btnStart{
      background:linear-gradient(180deg,var(--green),var(--green2));
      color:#06210f;
      box-shadow:0 12px 30px rgba(34,197,94,.20);
    }

    /* Quiz */
    .qTitle{
      margin:0 0 12px;
      font-size:20px;
      line-height:1.2;
    }
    .answers{display:grid;gap:10px}
    .choice{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.15);
      background:rgba(255,255,255,.06);
      color:var(--text);
      cursor:pointer;
      text-align:left;
      font-size:15px;
      transition:.12s transform,.12s background,.12s border;
    }
    .choice:hover{
      transform:translateY(-1px);
      background:rgba(255,255,255,.10);
      border-color:rgba(255,255,255,.22);
    }
    .choice:disabled{cursor:not-allowed;opacity:.95}

    .mini{
      margin-top:12px;
      text-align:center;
      color:var(--muted);
      font-size:13px;
    }

    /* Final */
    .final{text-align:center;padding:16px 10px}
    .final .official{
      font-size:40px;
      font-weight:950;
      margin:2px 0 10px;
      letter-spacing:.4px;
    }
    .final .question{
      font-size:28px;
      font-weight:900;
      margin:0 0 18px;
      line-height:1.2;
    }
    .two{
      display:flex;
      gap:14px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:6px;
    }
    .btnYes{
      background:rgba(255,77,166,.22);
      border:1px solid rgba(255,77,166,.55);
      color:#ffd3ea;
      padding:16px 30px;
      font-size:22px;
      border-radius:16px;
      cursor:pointer;
      font-weight:950;
    }
    .btnNo{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);
      padding:16px 30px;
      font-size:22px;
      border-radius:16px;
      cursor:pointer;
      font-weight:950;
    }
    .btnYes:hover,.btnNo:hover{transform:translateY(-1px)}

    .hidden{display:none}

    /* Fast emoji burst */
    .burstLayer{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
      overflow:hidden;
    }
    .burst{
      position:absolute;
      will-change: transform, opacity;
      opacity:.98;
      text-shadow: 0 10px 26px rgba(0,0,0,.35);
      animation: floatUp linear forwards;
    }
    /* SZYBCIEJ ni≈º by≈Ço: ~1.1s‚Äì1.6s */
    @keyframes floatUp{
      0%   { transform: translateY(0) scale(1); opacity:0; }
      10%  { opacity:1; }
      100% { transform: translateY(-120vh) scale(1.25); opacity:0; }
    }

    /* Celebration */
    .celebrate{text-align:center;padding:22px 10px}
    .celebrate h2{margin:0 0 10px;font-size:40px;font-weight:950}
    .celebrate p{margin:0;color:var(--muted);font-size:16px;line-height:1.35}

    /* Fade-in */
    .fade-in{
      opacity:0;
      transform: translateY(6px) scale(0.98);
      animation: fadeInUp .75s ease-out forwards;
      animation-delay:.35s;
    }
    @keyframes fadeInUp{
      to{opacity:1; transform: translateY(0) scale(1)}
    }
  </style>
</head>

<body>
  <div class="burstLayer" id="burstLayer"></div>

  <div class="wrap">
    <div class="card">

      <!-- HEADER -->
      <div id="header">
        <div class="heroTitle">
          <span class="heart">üíò</span>
          <span>EGZAMIN WALENTYNKOWY</span>
          <span class="heart">üíò</span>
        </div>
      </div>

      <!-- START -->
      <div id="start" class="panel start">
        <h2>Okej‚Ä¶ wiem, ≈ºe chcesz ju≈º us≈Çyszeƒá to pytanie üò≥</h2>
        <p class="big">
          Ono zdecyduje o Twoim losie na <b>14 lutego</b>.<br><br>
          Ale zanim je us≈Çyszysz‚Ä¶ szybki test z <b>NAS</b>. üíò
        </p>
        <button class="btn btnStart" id="startBtn">START ‚ñ∂Ô∏è</button>
      </div>

      <!-- QUIZ -->
      <div id="quiz" class="panel hidden">
        <h2 class="qTitle" id="question"></h2>
        <div class="answers" id="answers"></div>
        <div class="mini">
          Pytanie <span id="idx">1</span>/10
        </div>
      </div>

      <!-- FINAL -->
      <div id="final" class="panel final hidden">
        <div class="official">OFICJALNIE üò≥</div>
        <div class="question">Czy zostaniesz mojƒÖ WalentynkƒÖ? üíò</div>
        <div class="two">
          <button class="btnYes" id="yes">TAK üíñ</button>
          <button class="btnNo" id="no">NIE üò∂</button>
        </div>
      </div>

      <!-- CELEBRATE -->
      <div id="celebrate" class="panel celebrate hidden">
        <h2>HURRAAA üòÑüíñ</h2>

        <img
          class="fade-in"
          src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbWk4ZmpxYjBjNWZwc3h6b2FuNnp3dXd6bTQybmk1NW5ua2xwZ3phbyZlcD12MV9naWZzX3NlYXJjaCZjdD1n/xiPqQWAF25RD4Omzyq/giphy.gif"
          alt="Taylor Swift celebrating"
          style="
            margin-top:16px;
            max-width:320px;
            width:100%;
            border-radius:18px;
            display:block;
            margin-left:auto;
            margin-right:auto;
            box-shadow:0 22px 60px rgba(0,0,0,.45);
          "
        >

        <p class="fade-in" style="margin-top:18px;color:#ffd3ea;font-weight:700;animation-delay:1.05s">
          Podjƒô≈Ça≈õ bardzo dobrƒÖ decyzjƒô.<br>
          A 14 lutego wieczorem dowiesz siƒô, <b>jak bardzo</b> dobrƒÖ‚Ä¶ üòè
        </p>
      </div>

      <!-- Audio -->
      <audio id="song" preload="auto">
        <source src="love-story.mp3" type="audio/mpeg" />
      </audio>

    </div>
  </div>

<script>
  // 10 pyta≈Ñ ‚Äì poprawna odpowied≈∫ w r√≥≈ºnych pozycjach
  const QUIZ = [
    {
      q: "1) Jak siƒô nazywa≈Ça fancy restauracja w Bolonii, w kt√≥rej byli≈õmy podczas naszego weekendu walentynkowego?",
      a: ["Vicolocolombina", "Donatello", "Marsalino", "Trattoria Da Menella Torre"],
      c: 1
    },
    {
      q: "2) Kt√≥ra pozycja by≈Ça pierwsza podczas naszego pierwszego razu?",
      a: ["Doggy", "Cowgirl", "Missionary", "Spooning"],
      c: 2
    },
    {
      q: "3) Jaka jest moja ulubiona czƒô≈õƒá Twojego cia≈Ça?",
      a: ["Ty≈Çek", "Ka≈ºda", "Oczy", "BOOBIES"],
      c: 1
    },
    {
      q: "4) Co pili≈õmy do posi≈Çku, kt√≥ry pierwszy raz Ci ugotowa≈Çem?",
      a: ["Cola Zero", "Wino bia≈Çe", "Woda", "Szampan"],
      c: 3
    },
    {
      q: "5) Gdzie byli≈õmy na naszej pierwszej randce?",
      a: ["Na spacerze nad jeziorem", "W kawiarni", "Na bilardzie", "Na pizzy"],
      c: 0
    },
    {
      q: "6) Jakie jest nasze wsp√≥lne ulubione miejsce do bycia?",
      a: ["Na pla≈ºy", "Pod ko≈ÇderkƒÖ", "W samochodzie", "Na imprezie"],
      c: 1
    },
    {
      q: "7) W jakim kraju / gdzie bƒôdziemy w przysz≈Ço≈õci mieszkaƒá?",
      a: ["We W≈Çoszech", "W Polsce", "Niewa≈ºne gdzie, wa≈ºne ≈ºe bƒôdziemy razem", "W USA"],
      c: 2
    },
    {
      q: "8) Co jest naszym najwiƒôkszym wsp√≥lnym luksusem?",
      a: ["Czas", "Seks", "Spok√≥j", "Podr√≥≈ºe"],
      c: 1
    },
    {
      q: "9) Co jest fundamentem naszego zwiƒÖzku?",
      a: ["Pasja", "Lojalno≈õƒá", "Chemia", "Przyja≈∫≈Ñ"],
      c: 1
    },
    {
      q: "10) Co jest jedynƒÖ pewnƒÖ rzeczƒÖ w moich planach?",
      a: ["Hajs", "Kochaƒá ciƒô", "Sukces", "Stabilizacja"],
      c: 1
    }
  ];

  const startBox = document.getElementById("start");
  const header = document.getElementById("header");
  const quizBox = document.getElementById("quiz");
  const finalBox = document.getElementById("final");
  const celebrateBox = document.getElementById("celebrate");

  const questionEl = document.getElementById("question");
  const answersEl = document.getElementById("answers");
  const idxEl = document.getElementById("idx");

  const burstLayer = document.getElementById("burstLayer");
  const song = document.getElementById("song");

  let i = 0;

  function spawnEmoji(emoji){
    const el = document.createElement("div");
    el.className = "burst";
    el.textContent = emoji;

    // start near bottom, fly up FAST
    const left = Math.random() * 100;          // vw
    const size = 14 + Math.random() * 24;      // px
    const duration = 1.1 + Math.random() * 0.5; // seconds (FASTER)
    const delay = Math.random() * 0.05;        // almost none

    el.style.left = left + "vw";
    el.style.bottom = "-50px";
    el.style.fontSize = size + "px";
    el.style.animationDuration = duration + "s";
    el.style.animationDelay = delay + "s";

    burstLayer.appendChild(el);
    setTimeout(() => el.remove(), (duration + delay) * 1000 + 150);
  }

  function burstEmojis(emoji, count){
    // faster spawn (more dense, quicker)
    let spawned = 0;
    const interval = setInterval(() => {
      for(let k=0;k<10;k++){
        spawnEmoji(emoji);
        spawned++;
        if(spawned >= count){
          clearInterval(interval);
          break;
        }
      }
    }, 40);
  }

  function render(){
    idxEl.textContent = String(i + 1);
    questionEl.textContent = QUIZ[i].q;
    answersEl.innerHTML = "";

    QUIZ[i].a.forEach((txt, idx) => {
      const b = document.createElement("button");
      b.className = "choice";
      b.textContent = txt;
      b.addEventListener("click", () => pick(idx));
      answersEl.appendChild(b);
    });
  }

  function lockButtons(){
    Array.from(answersEl.children).forEach(btn => btn.disabled = true);
  }
  function unlockButtons(){
    Array.from(answersEl.children).forEach(btn => btn.disabled = false);
  }

  function pick(idx){
    const correctIdx = QUIZ[i].c;
    lockButtons();

    if(idx === correctIdx){
      answersEl.children[idx].style.borderColor = "rgba(0,255,170,.70)";
      burstEmojis("üíñ", 90);

      setTimeout(() => {
        i++;
        if(i < QUIZ.length){
          render();
        } else {
          finish();
        }
      }, 520);

    } else {
      // WRONG: stay on same question, allow retry
      answersEl.children[idx].style.borderColor = "rgba(255,80,80,.80)";
      answersEl.children[correctIdx].style.borderColor = "rgba(0,255,170,.55)";
      burstEmojis("üòî", 90);

      setTimeout(() => {
        // clear highlights and allow retry
        Array.from(answersEl.children).forEach(btn => btn.style.borderColor = "rgba(255,255,255,.15)");
        unlockButtons();
      }, 520);
    }
  }

  function finish(){
    header.classList.add("hidden");
    quizBox.classList.add("hidden");
    finalBox.classList.remove("hidden");
  }

  document.getElementById("startBtn").onclick = () => {
    startBox.classList.add("hidden");
    quizBox.classList.remove("hidden");
    render();
  };

  document.getElementById("yes").onclick = async () => {
    burstEmojis("üíñ", 160);

    // Play music (works best because it‚Äôs triggered by user click)
    try { await song.play(); } catch(e) {}

    setTimeout(() => {
      finalBox.classList.add("hidden");
      celebrateBox.classList.remove("hidden");
      burstEmojis("üòÑ", 70);
    }, 900);
  };

  document.getElementById("no").onclick = () => {
    // no runs away + sad burst
    burstEmojis("üòî", 60);
    const noBtn = document.getElementById("no");
    const dx = (Math.random()*180 - 90);
    const dy = (Math.random()*120 - 60);
    noBtn.style.transform = `translate(${dx}px, ${dy}px)`;
  };
</script>
</body>
</html>
